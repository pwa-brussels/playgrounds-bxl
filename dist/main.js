!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";var n=r(1),o=r(2);r(3);!function(){var e={isLoading:!0,visibleCards:{},selectedCities:[],spinner:document.querySelector(".loader"),cardTemplate:document.querySelector(".cardTemplate"),container:document.querySelector(".main"),debug:document.querySelector(".debug"),addDialog:document.querySelector(".dialog-container"),daysOfWeek:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]};document.getElementById("butRefresh").addEventListener("click",function(){console.log("butRefresh")}),e.toggleAddDialog=function(t){t?e.addDialog.classList.add("dialog-container--visible"):e.addDialog.classList.remove("dialog-container--visible")},e.updateForecastCard=function(t){var r=new Date(t.created),n=t.channel.astronomy.sunrise,o=t.channel.astronomy.sunset,a=t.channel.item.condition,i=t.channel.atmosphere.humidity,c=t.channel.wind,s=e.visibleCards[t.key];s||((s=e.cardTemplate.cloneNode(!0)).classList.remove("cardTemplate"),s.querySelector(".location").textContent=t.label,s.removeAttribute("hidden"),e.container.appendChild(s),e.visibleCards[t.key]=s);var d=s.querySelector(".card-last-updated"),l=d.textContent;if(!(l&&(l=new Date(l),r.getTime()<l.getTime()))){d.textContent=t.created,s.querySelector(".description").textContent=a.text,s.querySelector(".date").textContent=a.date,s.querySelector(".current .icon").classList.add(e.getIconClass(a.code)),s.querySelector(".current .temperature .value").textContent=Math.round(a.temp),s.querySelector(".current .sunrise").textContent=n,s.querySelector(".current .sunset").textContent=o,s.querySelector(".current .humidity").textContent=Math.round(i)+"%",s.querySelector(".current .wind .value").textContent=Math.round(c.speed),s.querySelector(".current .wind .direction").textContent=c.direction;var u=s.querySelectorAll(".future .oneday"),f=new Date;f=f.getDay();for(var p=0;p<7;p++){var g=u[p],b=t.channel.item.forecast[p];b&&g&&(g.querySelector(".date").textContent=e.daysOfWeek[(p+f)%7],g.querySelector(".icon").classList.add(e.getIconClass(b.code)),g.querySelector(".temp-high .value").textContent=Math.round(b.high),g.querySelector(".temp-low .value").textContent=Math.round(b.low))}e.isLoading&&(e.spinner.setAttribute("hidden",!0),e.container.removeAttribute("hidden"),e.isLoading=!1)}},e.getForecast=function(t,r){(0,n.getData)().then(function(t){t.records.map(function(t){return(0,o.updateCard)(t,e.visibleCards,e.cardTemplate,e.container,"fr")}),e.isLoading=!1,e.spinner.setAttribute("hidden",!0)})},e.updateForecasts=function(){Object.keys(e.visibleCards).forEach(function(t){e.getForecast(t)})},e.saveSelectedCities=function(){var t=JSON.stringify(e.selectedCities);localStorage.selectedCities=t};var t={datasetid:"playgrounds",recordid:"359be7807d0108e540717123b3ca3920caa451c0",fields:{nom:"Jardins de la vallée du Maalbeek",code_postal:"1000",description:"3 Jeux sur ressort 1 bascule 1 mur d’escalade 2 combinaisons de grimpe et de glisse",adres:"Jozef II-straat ingang tegenover nr 108",naam:"Maalbeekdalhof",adresse:"Rue Jozef II - entrée face au n°108",tranche_d_age:"3>12",beschrijving:"3 veertoestellen 1 wip 1 klimmuur 2 glij-klim-combinatie"},record_timestamp:"2015-06-22T12:11:25+00:00"};(0,o.updateCard)(t,e.visibleCards,e.cardTemplate,e.container,"fr"),e.selectedCities=localStorage.selectedCities,e.selectedCities?(e.selectedCities=JSON.parse(e.selectedCities),e.selectedCities.forEach(function(t){e.getForecast(t.recordid,t.label)})):((0,o.updateCard)(t,e.visibleCards,e.cardTemplate,e.container,"fr"),e.selectedCities=[{key:t.recordid,label:t.label}],e.saveSelectedCities())}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getData=function(){return fetch(n).then(function(e){return e.json()})};var n="https://opendata.brussels.be/api/records/1.0/search/?dataset=playgrounds&refine.code_postal=1000"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateCard=function(e,t,r,n,o){var a,i,c,s=new Date(e.record_timestamp),d=e.fields.code_postal,l=e.fields.tranche_d_age;"fr"==o?(a=e.fields.nom,i=e.fields.description,c=e.fields.addresse):(a=e.fieldsnaam,i=e.fields.beschrijving,c=e.fields.adres);var u=t[e.recordid];u||((u=r.cloneNode(!0)).classList.remove("cardTemplate"),u.removeAttribute("hidden"),n.appendChild(u),t[e.recordid]=u);var f=u.querySelector(".card-last-updated"),p=f.textContent;if(p&&(p=new Date(p),s.getTime()<p.getTime()))return;f.textContent=e.record_timestamp,u.querySelector(".name").textContent=a,u.querySelector(".description").textContent=i,u.querySelector(".address").textContent=c,u.querySelector(".age").textContent=l,u.querySelector(".postalCode").textContent=d,u.querySelector(".pay-button").addEventListener("click",function(e){!function(e){console.log("new build 2",e),new PaymentRequest([{supportedMethods:["basic-card"],data:{supportedNetworks:["visa","mastercard"]}}],{displayItems:[{label:"Original amount",amount:{currency:"EUR",value:"0.01"}}],total:{label:"Total",amount:{currency:"EUR",value:"0.01"}}},{}).show().then(function(e){console.log(e),e.complete("success")}).catch(function(e){console.error("Uh oh, something bad happened",e)})}(a)})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialiseSubs=function(e){return e.pushManager.getSubscription().then(function(t){return!(null===t)?console.log("User IS already subscribed."):console.log("User is NOT subscribed."),function(e){var t=function(e){for(var t="=".repeat((4-e.length%4)%4),r=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),n=window.atob(r),o=new Uint8Array(n.length),a=0;a<n.length;++a)o[a]=n.charCodeAt(a);return o}(n);return e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:t}).then(function(e){return console.log("User is subscribed:",e),function(e){e?console.log(JSON.stringify(e)):console.log("No existing subscription")}(e),!0,e}).catch(function(e){console.error("Failed to subscribe the user: ",e)})}(e)})};var n="BBMukMVSpAWcxwbNlNk9rktQwILUgEcsWD0tSNUIzOJSG7amLAKKwkDgqxrjuwiixbSCRRadNH0wpAXZP_1WUzw"}]);